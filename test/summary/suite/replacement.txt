ORIGINAL
void KisZoomManager::changeAspectMode(bool aspectMode)
{
    KisImageSP img = m_view->image();

    if (aspectMode)
        m_zoomHandler->setResolution(img->xRes(), img->yRes());
    else
        m_zoomHandler->setResolutionToStandard();

    m_view->canvasBase()->preScale();
    m_view->canvas()->update();

    QSize sz = QSize(int(0.5 + m_zoomHandler->documentToViewX(img->width() / img->xRes())),
                     int(0.5 + m_zoomHandler->documentToViewY(img->height() / img->yRes())));
    m_canvasController->setDocumentSize(sz);

    // Finally ask the canvasController to recenter
    m_canvasController->recenterPreferred();
}
END_ORIGINAL

MODIFIED
void KisZoomManager::changeAspectMode(bool aspectMode)
{
    KisImageSP img = m_view->image();

    if (aspectMode)
        m_zoomHandler->setResolution(img->xRes(), img->yRes());
    else
        m_zoomHandler->setResolutionToStandard();

    m_zoomController->setZoom(m_zoomHandler->zoomMode(), m_zoomHandler->zoom());
}
END_MODIFIED

SUMMARY
• file 'original.cpp|modified.cpp': Impact = High

• Modified function(s): 1
• function 'KisZoomManager::changeAspectMode': Impact = None
	• several expression statements, a declaration statement declaring 'sz' of type 'QSize', 
	  and a comment were replaced with a call to 'm_zoomController->setZoom'

END_SUMMARY
